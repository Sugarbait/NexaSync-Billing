(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47],{6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},20832:(e,t,a)=>{Promise.resolve().then(a.bind(a,32148))},25828:(e,t,a)=>{"use strict";a.d(t,{E:()=>r});var s=a(95155);function r(e){let{children:t,color:a="gray",className:r=""}=e;return(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({gray:"bg-gray-100 text-gray-800",blue:"bg-blue-100 text-blue-800",green:"bg-green-100 text-green-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800"}[a]," ").concat(r),children:t})}a(12115)},32148:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var s=a(95155),r=a(12115),l=a(6191),i=a(71847);let d=(0,i.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var n=a(86651);let c=(0,i.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,i.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var x=a(42529);let m=(0,i.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var g=a(28297),y=a(70667),u=a(25828),h=a(44754),p=a(8829),v=a(3941),j=a(53763),b=a(54074),_=a(52619),N=a.n(_),f=a(27434);function k(){var e,t;let{showNotification:a,showConfirm:i}=(0,f.h)(),[_,k]=(0,r.useState)([]),[w,C]=(0,r.useState)([]),[S,A]=(0,r.useState)(!0),[I,D]=(0,r.useState)(""),[M,E]=(0,r.useState)("all"),[F,q]=(0,r.useState)(null),[P,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{L()},[]);let Y=(0,r.useCallback)(()=>{let e=_;if("all"!==M&&(e=e.filter(e=>e.invoice_status===M)),I){let t=I.toLowerCase();e=e.filter(e=>{var a,s,r,l,i;return(null==(a=e.invoice_number)?void 0:a.toLowerCase().includes(t))||(null==(r=e.billing_customers)||null==(s=r.customer_name)?void 0:s.toLowerCase().includes(t))||(null==(i=e.billing_customers)||null==(l=i.customer_email)?void 0:l.toLowerCase().includes(t))})}C(e)},[_,M,I]);async function L(){A(!0);try{let{data:e,error:t}=await v.N.from("invoice_records").select("\n          *,\n          billing_customers(customer_name, customer_email)\n        ").order("created_at",{ascending:!1});if(t)throw t;k(e||[])}catch(e){console.error("Failed to load invoices:",e),k([])}finally{A(!1)}}function V(e){return({draft:"gray",sent:"blue",paid:"green",overdue:"red",cancelled:"gray"})[e]||"gray"}async function W(e){var t;i("Send invoice to ".concat(null==(t=e.billing_customers)?void 0:t.customer_name,"?"),async()=>{try{if(!e.stripe_invoice_id)throw Error("No Stripe invoice ID found");let t=await j.M.sendInvoice(e.stripe_invoice_id);if(!t.success)throw Error(t.error);await v.N.from("invoice_records").update({invoice_status:"sent",sent_at:new Date().toISOString()}).eq("id",e.id),a("Invoice sent successfully","success"),L()}catch(e){console.error("Failed to send invoice:",e),a("Failed to send invoice: ".concat(e instanceof Error?e.message:"Unknown error"),"error")}})}async function O(e){var t;i("Mark invoice as paid for ".concat(null==(t=e.billing_customers)?void 0:t.customer_name,"?"),async()=>{try{await v.N.from("invoice_records").update({invoice_status:"paid",paid_at:new Date().toISOString()}).eq("id",e.id),a("Invoice marked as paid","success"),L()}catch(e){console.error("Failed to mark invoice as paid:",e),a("Failed to mark invoice as paid","error")}})}return((0,r.useEffect)(()=>{Y()},[Y]),S)?(0,s.jsx)("div",{className:"p-4 md:p-6 lg:p-8",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-6 md:h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2 md:w-1/4 mb-6 md:mb-8"}),(0,s.jsx)("div",{className:"h-64 md:h-96 bg-gray-200 dark:bg-gray-700 rounded"})]})}):(0,s.jsxs)("div",{className:"p-4 md:p-6 lg:p-8",children:[(0,s.jsxs)("div",{className:"mb-6 md:mb-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-black gradient-text",children:"Invoice History"}),(0,s.jsx)("p",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400 mt-1 md:mt-2",children:"View and manage all invoices"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(N(),{href:"/admin/billing/invoices/generate",children:(0,s.jsxs)(y.$,{size:"sm",className:"md:text-base md:px-6 md:py-3",children:[(0,s.jsx)(l.A,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Generate Invoices"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Generate"})]})}),(0,s.jsxs)(y.$,{variant:"secondary",onClick:function(){let e=w.map(e=>{var t,a,s;return{"Invoice Number":e.invoice_number||(null==(t=e.stripe_invoice_id)?void 0:t.slice(0,8))||"N/A","Date Created":(0,b.Yq)(e.created_at),"Customer Name":(null==(a=e.billing_customers)?void 0:a.customer_name)||"N/A","Customer Email":(null==(s=e.billing_customers)?void 0:s.customer_email)||"N/A","Period Start":(0,b.Yq)(e.billing_period_start),"Period End":(0,b.Yq)(e.billing_period_end),"Total Chats":e.total_chats||0,"Total Calls":e.total_calls||0,"SMS Segments":e.total_sms_segments||0,"Call Minutes":(e.total_call_minutes||0).toFixed(1),"Twilio SMS Cost (CAD)":(e.twilio_sms_cost_cad||0).toFixed(2),"Twilio Voice Cost (CAD)":(e.twilio_voice_cost_cad||0).toFixed(2),"Retell AI Chat Cost (CAD)":(e.retell_ai_chat_cost_cad||0).toFixed(2),"Retell AI Voice Cost (CAD)":(e.retell_ai_voice_cost_cad||0).toFixed(2),"Subtotal (CAD)":(e.subtotal_cad||0).toFixed(2),"Markup Amount (CAD)":(e.markup_amount_cad||0).toFixed(2),"Total Amount (CAD)":(e.total_amount_cad||0).toFixed(2),Status:e.invoice_status,"Sent Date":e.sent_at?(0,b.Yq)(e.sent_at):"","Paid Date":e.paid_at?(0,b.Yq)(e.paid_at):""}}),t=(0,b.JT)(e);(0,b.PE)(t,"invoices_".concat(Date.now(),".csv"),"text/csv")},size:"sm",className:"md:text-base md:px-6 md:py-3",children:[(0,s.jsx)(d,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Export CSV"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Export"})]})]})]}),(0,s.jsxs)(g.Zp,{children:[(0,s.jsx)(g.aR,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,s.jsxs)(g.ZB,{className:"text-base md:text-lg",children:["Invoices (",w.length,")"]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,s.jsx)(p.l6,{value:M,onChange:e=>E(e.target.value),options:[{value:"all",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"sent",label:"Sent"},{value:"paid",label:"Paid"},{value:"overdue",label:"Overdue"},{value:"cancelled",label:"Cancelled"}],className:"w-full sm:w-auto"}),(0,s.jsxs)("div",{className:"relative flex-1 sm:flex-none sm:w-64",children:[(0,s.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500"}),(0,s.jsx)("input",{type:"text",placeholder:"Search invoices...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:I,onChange:e=>D(e.target.value)})]})]})]})}),(0,s.jsx)(g.Wu,{children:(0,s.jsx)("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:(0,s.jsxs)("table",{className:"w-full min-w-[1000px]",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Invoice #"}),(0,s.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Created"}),(0,s.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Customer"}),(0,s.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Period"}),(0,s.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Usage"}),(0,s.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),(0,s.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),(0,s.jsx)("th",{className:"text-right py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:0===w.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:8,className:"text-center py-6 md:py-8 text-gray-500 dark:text-gray-400 text-sm",children:I||"all"!==M?"No invoices found matching your filters":"No invoices yet. Generate your first invoice to get started."})}):w.map(e=>{var t,a;return(0,s.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>{q(e),T(!0)},children:[(0,s.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-mono text-gray-900 dark:text-gray-100",children:e.invoice_number||(null==(t=e.stripe_invoice_id)?void 0:t.slice(0,8))||"N/A"}),(0,s.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-gray-900 dark:text-gray-100",children:(0,b.Yq)(e.created_at)}),(0,s.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-medium text-gray-900 dark:text-gray-100",children:(null==(a=e.billing_customers)?void 0:a.customer_name)||"Unknown Customer"}),(0,s.jsxs)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-gray-600 dark:text-gray-400",children:[(0,b.Yq)(e.billing_period_start)," - ",(0,b.Yq)(e.billing_period_end)]}),(0,s.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm text-gray-900 dark:text-gray-100",children:(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsxs)("div",{children:[e.total_chats||0," chats"]}),(0,s.jsxs)("div",{className:"text-gray-500 dark:text-gray-400",children:[e.total_sms_segments||0," segments"]})]})}),(0,s.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm font-semibold text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(e.total_amount_cad||0))}),(0,s.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm",children:(0,s.jsx)(u.E,{color:V(e.invoice_status),children:e.invoice_status})}),(0,s.jsx)("td",{className:"py-2 md:py-3 px-3 md:px-4 text-xs md:text-sm",onClick:e=>e.stopPropagation(),children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>{q(e),T(!0)},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-500",title:"View Details",children:(0,s.jsx)(c,{className:"w-4 h-4"})}),"draft"===e.invoice_status&&(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),W(e)},className:"text-green-600 hover:text-green-700",title:"Send Invoice",children:(0,s.jsx)(o,{className:"w-4 h-4"})}),"sent"===e.invoice_status&&(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),O(e)},className:"text-green-600 hover:text-green-700",title:"Mark as Paid",children:(0,s.jsx)(x.A,{className:"w-4 h-4"})}),e.stripe_invoice_url&&(0,s.jsx)("a",{href:e.stripe_invoice_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-700",title:"View in Stripe",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(m,{className:"w-4 h-4"})})]})})]},e.id)})})]})})})]}),F&&(0,s.jsx)(h.a,{isOpen:P,onClose:()=>T(!1),title:"Invoice ".concat(F.invoice_number||"Details"),size:"xl",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Customer Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Customer Name"}),(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:(null==(e=F.billing_customers)?void 0:e.customer_name)||"Unknown Customer"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),(0,s.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:(null==(t=F.billing_customers)?void 0:t.customer_email)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Billing Period"}),(0,s.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[(0,b.Yq)(F.billing_period_start)," - ",(0,b.Yq)(F.billing_period_end)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),(0,s.jsx)(u.E,{color:V(F.invoice_status),children:F.invoice_status})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Usage Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Chats"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:F.total_chats||0})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Calls"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:F.total_calls||0})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"SMS Segments"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:F.total_sms_segments||0})]}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Call Minutes"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(F.total_call_minutes||0).toFixed(1)})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-gray-100",children:"Cost Breakdown"}),(0,s.jsx)("table",{className:"w-full",children:(0,s.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:"Twilio SMS Services"}),(0,s.jsx)("td",{className:"py-2 text-right text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(F.twilio_sms_cost_cad||0))})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:"Twilio Voice Services"}),(0,s.jsx)("td",{className:"py-2 text-right text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(F.twilio_voice_cost_cad||0))})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:"Retell AI Chat Services"}),(0,s.jsx)("td",{className:"py-2 text-right text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(F.retell_ai_chat_cost_cad||0))})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:"Retell AI Voice Services"}),(0,s.jsx)("td",{className:"py-2 text-right text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(F.retell_ai_voice_cost_cad||0))})]}),(0,s.jsxs)("tr",{className:"border-t-2 border-gray-300 dark:border-gray-600",children:[(0,s.jsx)("td",{className:"py-2 font-semibold text-gray-900 dark:text-gray-100",children:"Subtotal"}),(0,s.jsx)("td",{className:"py-2 text-right font-semibold text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(F.subtotal_cad||0))})]}),(F.markup_amount_cad||0)>0&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"py-2 text-gray-900 dark:text-gray-100",children:"Service Markup"}),(0,s.jsx)("td",{className:"py-2 text-right text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(F.markup_amount_cad||0))})]}),(0,s.jsxs)("tr",{className:"border-t-2 border-gray-900 dark:border-gray-100",children:[(0,s.jsx)("td",{className:"py-2 font-bold text-lg text-gray-900 dark:text-gray-100",children:"Total"}),(0,s.jsx)("td",{className:"py-2 text-right font-bold text-lg text-gray-900 dark:text-gray-100",children:(0,b.IW)(Number(F.total_amount_cad||0))})]})]})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[F.stripe_invoice_url&&(0,s.jsxs)(y.$,{variant:"secondary",onClick:()=>F.stripe_invoice_url&&window.open(F.stripe_invoice_url,"_blank"),children:[(0,s.jsx)(m,{className:"w-4 h-4 mr-2"}),"View in Stripe"]}),"draft"===F.invoice_status&&(0,s.jsxs)(y.$,{onClick:()=>{T(!1),W(F)},children:[(0,s.jsx)(o,{className:"w-4 h-4 mr-2"}),"Send Invoice"]}),"sent"===F.invoice_status&&(0,s.jsxs)(y.$,{onClick:()=>{T(!1),O(F)},children:[(0,s.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Mark as Paid"]})]})]})})]})}},44754:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var s=a(95155),r=a(12115),l=a(65229);function i(e){let{isOpen:t,onClose:a,title:i,children:d,size:n="md"}=e;return((0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,a]),t)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:a}),(0,s.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-lg shadow-xl ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]," w-full"),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-300 dark:border-gray-700",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,s.jsx)(l.A,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"px-6 py-4",children:d})]})})]}):null}},54074:(e,t,a)=>{"use strict";function s(e){return null==e||isNaN(e)?"$0.00":new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function r(e){if(!e)return"N/A";let t="string"==typeof e?new Date(e):e;return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"short",day:"numeric"}).format(t)}function l(e){return"".concat(r(e.start)," - ").concat(r(e.end))}function i(){let e=new Date;return{start:new Date(e.getFullYear(),e.getMonth()-1,1),end:new Date(e.getFullYear(),e.getMonth(),0)}}function d(){let e=new Date;return{start:new Date(e.getFullYear(),e.getMonth(),1),end:new Date}}function n(e){if(0===e.length)return"";let t=Object.keys(e[0]),a=[];for(let s of(a.push(t.join(",")),e)){let e=t.map(e=>{let t=String(s[e]).replace(/"/g,'""');return t.includes(",")?'"'.concat(t,'"'):t});a.push(e.join(","))}return a.join("\n")}function c(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",s=new Blob([e],{type:a}),r=URL.createObjectURL(s),l=document.createElement("a");l.href=r,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r)}a.d(t,{IW:()=>s,JT:()=>n,Ln:()=>i,PE:()=>c,Yq:()=>r,tX:()=>l,vM:()=>d})},86651:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[143,619,365,35,441,255,358],()=>e(e.s=20832)),_N_E=e.O()}]);